{"version":3,"file":"stage1-8c2500dd.js","sources":["../../assets/js/stages/haze1.js"],"sourcesContent":["import $ from 'jquery';\r\n\r\nimport 'normalize.css'\r\nimport \"/assets/css/haze.scss\"\r\n\r\nconst isRightBoundary = (index, width) => {\r\n\treturn index % width !== width - 1;\r\n};\r\nconst isLeftBoundary = (index, width) => {\r\n\treturn index % width !== 0;\r\n};\r\nconst isTopBoundary = (index, width) => {\r\n\treturn index > width - 1;\r\n};\r\nconst isBottomBoundary = (index, width, height) => {\r\n\treturn index < width * (height - 1);\r\n};\r\n\r\nconst canMoveRight = (index, cells, width) => {\r\n\treturn isRightBoundary(index, width) && cells[index + 1][0] === 0\r\n};\r\nconst canMoveLeft = (index, cells, width) => {\r\n\treturn isLeftBoundary(index, width) && cells[index - 1][0] === 0\r\n};\r\nconst canMoveUp = (index, cells, width) => {\r\n\treturn isTopBoundary(index, width) && cells[index - width][0] === 0\r\n};\r\nconst canMoveDown = (index, cells, width, height) => {\r\n\treturn isBottomBoundary(index, width, height) && cells[index + width][0] === 0\r\n};\r\n\r\nconst isAtGoal = (currentPoint, goalPoint) => {\r\n\treturn goalPoint[0] === currentPoint[0] && goalPoint[1] === currentPoint[1]\r\n}\r\nconst showShareButton = () => {\r\n\tconst window_width = window.innerWidth;\r\n\tconst window_height = window.innerHeight;\r\n\tconst clear_width = $('.displayClear img').width();\r\n\tconst clear_height = $('.displayClear img').height();\r\n\t$('.share-btn').css({\r\n\t\ttop: window_height / 2 + clear_height / 2 + 'px',\r\n\t\tright: window_width / 2 - clear_width / 2 + 'px',\r\n\t});\r\n};\r\nconst rotateDirectionIndicator = (currentPoint, goalPoint) => {\r\n\tif (isAtGoal(currentPoint, goalPoint)) {\r\n\t\t$('#ue-img').css('display', 'none');\r\n\t\t$('.displayClear').css('display', 'block');\r\n\t\tshowShareButton();\r\n\t\tsetTimeout(() => alert('Number: 5'), 500);\r\n\t} else {\r\n\t\t$('#ue-img').css('display', 'block');\r\n\t}\r\n\r\n\tconst atan = Math.atan((goalPoint[1] - currentPoint[1]) / (goalPoint[0] - currentPoint[0])) * (180 / Math.PI);\r\n\r\n\tconst theta = goalPoint[0] - currentPoint[0] >= 0 ? 90 + atan : atan - 90;\r\n\r\n\t$('#ue-img').css('transform', 'rotate(' + theta + 'deg)');\r\n};\r\nconst updateDisplayBasedOnCell = (index, cells, width, height, currentPoint, goalPoint) => {\r\n\t$('.box').css('border', '1px solid black');\r\n\tif (cells[index][0] === 0) {\r\n\t\t$('.box').css('background-color', 'white');\r\n\t} else {\r\n\t\t$('.box').css('background-color', 'black');\r\n\t}\r\n\tif (cells[index][1] !== 0) {\r\n\t\t$('.box').text(cells[index][1]);\r\n\t} else {\r\n\t\t$('.box').text('');\r\n\t}\r\n\tif (isRightBoundary(index, width)) {\r\n\t\tif (cells[index + 1][0] === 1) {\r\n\t\t\t$('.box').css('border-right', '6px solid black');\r\n\t\t}\r\n\t} else {\r\n\t\t$('.box').css('border-right', '3px solid black');\r\n\t}\r\n\tif (isLeftBoundary(index, width)) {\r\n\t\tif (cells[index - 1][0] === 1) {\r\n\t\t\t$('.box').css('border-left', '6px solid black');\r\n\t\t}\r\n\t} else {\r\n\t\t$('.box').css('border-left', '3px solid black');\r\n\t}\r\n\tif (isTopBoundary(index, width)) {\r\n\t\tif (cells[index - width][0] === 1) {\r\n\t\t\t$('.box').css('border-top', '6px solid black');\r\n\t\t}\r\n\t} else {\r\n\t\t$('.box').css('border-top', '3px solid black');\r\n\t}\r\n\tif (isBottomBoundary(index, width, height)) {\r\n\t\tif (cells[index + width][0] === 1) {\r\n\t\t\t$('.box').css('border-bottom', '6px solid black');\r\n\t\t}\r\n\t} else {\r\n\t\t$('.box').css('border-bottom', '3px solid black');\r\n\t}\r\n\trotateDirectionIndicator(currentPoint, goalPoint);\r\n};\r\n\r\nconst main = () => {\r\n\tconst WIDTH = 4;\r\n\tconst HEIGHT = 4;\r\n\tconst CELLS = [\r\n\t\t[0, 'S'],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 'G'],\r\n\t\t[0, 0],\r\n\t];\r\n\tconst GOAL_POINT = [2, 3];\r\n\r\n\tconst imgWidth = document.getElementById('ue-img').clientWidth;\r\n\t$('#ue-img').css('left', 'calc(50% - ' + imgWidth / 2 + 'px)');\r\n\r\n\tlet index = 0;\r\n\tlet currentPoint = [0, 0];\r\n\r\n\tupdateDisplayBasedOnCell(index, CELLS, WIDTH, HEIGHT, currentPoint, GOAL_POINT);\r\n\r\n\t$(document).on(\"keyup\", e => {\r\n\t\tconst { key } = e\r\n\t\tif (!isAtGoal(currentPoint, GOAL_POINT)) {\r\n\t\t\tconst keyActions = {\r\n\t\t\t\t\"ArrowRight\": {\r\n\t\t\t\t\tcheck: () => canMoveRight(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => { index++; currentPoint[0]++; }\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowLeft\": {\r\n\t\t\t\t\tcheck: () => canMoveLeft(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => { index--; currentPoint[0]--; }\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowUp\": {\r\n\t\t\t\t\tcheck: () => canMoveUp(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => { index -= WIDTH; currentPoint[1]--; }\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowDown\": {\r\n\t\t\t\t\tcheck: () => canMoveDown(index, CELLS, WIDTH, HEIGHT),\r\n\t\t\t\t\taction: () => { index += WIDTH; currentPoint[1]++; }\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (key in keyActions && keyActions[key].check()) {\r\n\t\t\t\tkeyActions[key].action();\r\n\t\t\t\tupdateDisplayBasedOnCell(index, CELLS, WIDTH, HEIGHT, currentPoint, GOAL_POINT);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nmain()\r\n"],"names":["isRightBoundary","index","width","isLeftBoundary","isTopBoundary","isBottomBoundary","height","canMoveRight","cells","canMoveLeft","canMoveUp","canMoveDown","isAtGoal","currentPoint","goalPoint","showShareButton","window_width","window_height","clear_width","$","clear_height","rotateDirectionIndicator","atan","theta","updateDisplayBasedOnCell","main","CELLS","GOAL_POINT","imgWidth","e","key","keyActions"],"mappings":"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"}