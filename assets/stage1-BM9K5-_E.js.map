{"version":3,"file":"stage1-BM9K5-_E.js","sources":["../../assets/js/stages/haze1.ts"],"sourcesContent":["import $ from \"jquery\";\r\nimport \"normalize.css\";\r\nimport \"../../css/haze.scss\";\r\n\r\ntype Cells = (number | string)[][];\r\ntype Point = [number, number];\r\n\r\nconst isRightBoundary = (index: number, width: number) =>\r\n\tindex % width !== width - 1;\r\nconst isLeftBoundary = (index: number, width: number) => index % width !== 0;\r\nconst isTopBoundary = (index: number, width: number) => index > width - 1;\r\nconst isBottomBoundary = (index: number, width: number, height: number) =>\r\n\tindex < width * (height - 1);\r\n\r\nconst canMoveRight = (index: number, cells: Cells, width: number) =>\r\n\tisRightBoundary(index, width) && cells[index + 1][0] === 0;\r\nconst canMoveLeft = (index: number, cells: Cells, width: number) =>\r\n\tisLeftBoundary(index, width) && cells[index - 1][0] === 0;\r\nconst canMoveUp = (index: number, cells: Cells, width: number) =>\r\n\tisTopBoundary(index, width) && cells[index - width][0] === 0;\r\nconst canMoveDown = (\r\n\tindex: number,\r\n\tcells: Cells,\r\n\twidth: number,\r\n\theight: number,\r\n) => isBottomBoundary(index, width, height) && cells[index + width][0] === 0;\r\n\r\nconst isAtGoal = (currentPoint: Point, goalPoint: Point) =>\r\n\tgoalPoint[0] === currentPoint[0] && goalPoint[1] === currentPoint[1];\r\n\r\nconst rotateDirectionIndicator = (\r\n\tcurrentPoint: Point,\r\n\tgoalPoint: Point,\r\n): void => {\r\n\tif (isAtGoal(currentPoint, goalPoint)) {\r\n\t\t$(\".displayClear\").css(\"display\", \"block\");\r\n\t\tsetTimeout(() => alert(\"Number: 5\"), 500);\r\n\t}\r\n};\r\n\r\nconst updateDisplayBasedOnCell = (\r\n\tindex: number,\r\n\tcells: Cells,\r\n\twidth: number,\r\n\theight: number,\r\n\tcurrentPoint: Point,\r\n\tgoalPoint: Point,\r\n) => {\r\n\t$(\".box\").css(\"border\", \"1px solid black\");\r\n\tif (cells[index][0] === 0) {\r\n\t\t$(\".box\").css(\"background-color\", \"white\");\r\n\t} else {\r\n\t\t$(\".box\").css(\"background-color\", \"black\");\r\n\t}\r\n\tif (cells[index][1] !== 0) {\r\n\t\t$(\".box\").text(cells[index][1]);\r\n\t} else {\r\n\t\t$(\".box\").text(\"\");\r\n\t}\r\n\tif (isRightBoundary(index, width)) {\r\n\t\tif (cells[index + 1][0] === 1) {\r\n\t\t\t$(\".box\").css(\"border-right\", \"6px solid black\");\r\n\t\t}\r\n\t} else {\r\n\t\t$(\".box\").css(\"border-right\", \"6px solid black\");\r\n\t}\r\n\tif (isLeftBoundary(index, width)) {\r\n\t\tif (cells[index - 1][0] === 1) {\r\n\t\t\t$(\".box\").css(\"border-left\", \"6px solid black\");\r\n\t\t}\r\n\t} else {\r\n\t\t$(\".box\").css(\"border-left\", \"6px solid black\");\r\n\t}\r\n\tif (isTopBoundary(index, width)) {\r\n\t\tif (cells[index - width][0] === 1) {\r\n\t\t\t$(\".box\").css(\"border-top\", \"6px solid black\");\r\n\t\t}\r\n\t} else {\r\n\t\t$(\".box\").css(\"border-top\", \"6px solid black\");\r\n\t}\r\n\tif (isBottomBoundary(index, width, height)) {\r\n\t\tif (cells[index + width][0] === 1) {\r\n\t\t\t$(\".box\").css(\"border-bottom\", \"6px solid black\");\r\n\t\t}\r\n\t} else {\r\n\t\t$(\".box\").css(\"border-bottom\", \"6px solid black\");\r\n\t}\r\n\trotateDirectionIndicator(currentPoint, goalPoint);\r\n};\r\n\r\nconst main = (): void => {\r\n\tconst WIDTH = 4;\r\n\tconst HEIGHT = 4;\r\n\tconst CELLS: Cells = [\r\n\t\t[0, \"S\"],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, 0],\r\n\t\t[0, 0],\r\n\t\t[1, 0],\r\n\t\t[0, \"G\"],\r\n\t\t[0, 0],\r\n\t];\r\n\tconst GOAL_POINT: Point = [2, 3];\r\n\r\n\tlet index = 0;\r\n\tlet currentPoint: Point = [0, 0];\r\n\r\n\tupdateDisplayBasedOnCell(\r\n\t\tindex,\r\n\t\tCELLS,\r\n\t\tWIDTH,\r\n\t\tHEIGHT,\r\n\t\tcurrentPoint,\r\n\t\tGOAL_POINT,\r\n\t);\r\n\r\n\t$(document).on(\"keyup\", (e: JQuery.KeyUpEvent) => {\r\n\t\tconst { key } = e;\r\n\t\tif (!isAtGoal(currentPoint, GOAL_POINT)) {\r\n\t\t\tconst keyActions: {\r\n\t\t\t\t[key: string]: { check: () => boolean; action: () => void };\r\n\t\t\t} = {\r\n\t\t\t\t\"ArrowRight\": {\r\n\t\t\t\t\tcheck: () => canMoveRight(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tcurrentPoint[0]++;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowLeft\": {\r\n\t\t\t\t\tcheck: () => canMoveLeft(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\tcurrentPoint[0]--;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowUp\": {\r\n\t\t\t\t\tcheck: () => canMoveUp(index, CELLS, WIDTH),\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tindex -= WIDTH;\r\n\t\t\t\t\t\tcurrentPoint[1]--;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t\"ArrowDown\": {\r\n\t\t\t\t\tcheck: () => canMoveDown(index, CELLS, WIDTH, HEIGHT),\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tindex += WIDTH;\r\n\t\t\t\t\t\tcurrentPoint[1]++;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tif (key in keyActions && keyActions[key].check()) {\r\n\t\t\t\tkeyActions[key].action();\r\n\t\t\t\tupdateDisplayBasedOnCell(\r\n\t\t\t\t\tindex,\r\n\t\t\t\t\tCELLS,\r\n\t\t\t\t\tWIDTH,\r\n\t\t\t\t\tHEIGHT,\r\n\t\t\t\t\tcurrentPoint,\r\n\t\t\t\t\tGOAL_POINT,\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\nmain();\r\n"],"names":["isRightBoundary","index","width","isLeftBoundary","isTopBoundary","isBottomBoundary","height","canMoveRight","cells","canMoveLeft","canMoveUp","canMoveDown","isAtGoal","currentPoint","goalPoint","rotateDirectionIndicator","$","updateDisplayBasedOnCell","main","CELLS","GOAL_POINT","e","key","keyActions"],"mappings":"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"}